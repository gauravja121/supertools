<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Super Utility Tools</title>
    <style>
        :root {
            --primary-color: #0071e3;
            --secondary-color: #f5f5f7;
            --text-color: #1d1d1f;
            --light-gray: #f5f5f7;
            --medium-gray: #d2d2d7;
            --dark-gray: #86868b;
            --white: #ffffff;
            --border-radius: 12px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            --success-color: #34c759;
            --warning-color: #ff9500;
            --danger-color: #ff3b30;
            --info-color: #5ac8fa;
            --dark-mode: false;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }

        body {
            background-color: var(--light-gray);
            color: var(--text-color);
            line-height: 1.6;
            transition: all 0.3s ease;
        }

        body.dark-mode {
            --primary-color: #0a84ff;
            --secondary-color: #1c1c1e;
            --text-color: #f5f5f5;
            --light-gray: #1c1c1e;
            --medium-gray: #2c2c2e;
            --dark-gray: #636366;
            --white: #2c2c2e;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            background-color: #000;
        }

        header {
            background-color: var(--white);
            box-shadow: var(--box-shadow);
            padding: 1.5rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color);
        }

        .color-picker {
            display: flex;
            gap: 0.5rem;
        }

        .color-option {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid var(--medium-gray);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        h1 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: 2.5rem;
        }

        h2 {
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            color: var(--text-color);
        }

        .tool-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .tool-card {
            background-color: var(--white);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--box-shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .tool-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
        }

        .tool-card h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .tool-card h3 i {
            font-size: 1.1rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        input, select, textarea, button {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--medium-gray);
            border-radius: 8px;
            font-size: 1rem;
            background-color: var(--white);
            color: var(--text-color);
            transition: all 0.2s ease;
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 113, 227, 0.2);
        }

        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            margin-top: 0.5rem;
        }

        button:hover {
            background-color: #0062c3;
            transform: translateY(-2px);
        }

        button.secondary {
            background-color: var(--medium-gray);
            color: var(--text-color);
        }

        button.secondary:hover {
            background-color: var(--dark-gray);
        }

        button.success {
            background-color: var(--success-color);
        }

        button.success:hover {
            background-color: #2dbb52;
        }

        button.warning {
            background-color: var(--warning-color);
        }

        button.warning:hover {
            background-color: #e68a00;
        }

        button.danger {
            background-color: var(--danger-color);
        }

        button.danger:hover {
            background-color: #d70015;
        }

        .result {
            margin-top: 1rem;
            padding: 1rem;
            background-color: var(--secondary-color);
            border-radius: 8px;
            word-break: break-all;
            min-height: 20px;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .checkbox-group input {
            width: auto;
            margin-right: 0.5rem;
        }

        .todo-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background-color: var(--secondary-color);
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: all 0.2s ease;
        }

        .todo-item:hover {
            transform: translateX(5px);
        }

        .todo-item button {
            width: auto;
            padding: 0.25rem 0.5rem;
            background-color: var(--danger-color);
        }

        .todo-item button:hover {
            background-color: #d70015;
        }

        .tab-buttons {
            display: flex;
            margin-bottom: 1rem;
            border-bottom: 1px solid var(--medium-gray);
        }

        .tab-button {
            padding: 0.75rem 1.5rem;
            background: none;
            border: none;
            border-bottom: 3px solid transparent;
            color: var(--dark-gray);
            font-weight: 500;
            cursor: pointer;
            width: auto;
            transition: all 0.2s ease;
        }

        .tab-button:hover {
            color: var(--primary-color);
        }

        .tab-button.active {
            color: var(--primary-color);
            border-bottom: 3px solid var(--primary-color);
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        footer {
            text-align: center;
            padding: 2rem;
            margin-top: 2rem;
            color: var(--dark-gray);
            font-size: 0.9rem;
            border-top: 1px solid var(--medium-gray);
        }

        .progress-bar {
            height: 10px;
            background-color: var(--medium-gray);
            border-radius: 5px;
            margin-top: 1rem;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background-color: var(--primary-color);
            width: 0%;
            transition: width 0.5s ease;
        }

        .password-strength {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: var(--dark-gray);
        }

        .strength-weak {
            color: var(--danger-color);
        }

        .strength-medium {
            color: var(--warning-color);
        }

        .strength-strong {
            color: var(--success-color);
        }

        .color-preview {
            width: 100%;
            height: 40px;
            border-radius: 8px;
            margin-top: 0.5rem;
            border: 1px solid var(--medium-gray);
        }

        .icon {
            display: inline-block;
            width: 24px;
            height: 24px;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            vertical-align: middle;
            margin-right: 5px;
        }

        @media (max-width: 768px) {
            .tool-grid {
                grid-template-columns: 1fr;
            }
            
            .container {
                padding: 1rem;
            }
            
            header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <header>
        <h1><i class="fas fa-tools"></i> Super Utility Tools</h1>
        <div class="header-controls">
            <div class="color-picker">
                <div class="color-option" style="background-color: #0071e3;" data-color="blue"></div>
                <div class="color-option" style="background-color: #5856d6;" data-color="purple"></div>
                <div class="color-option" style="background-color: #ff2d55;" data-color="red"></div>
                <div class="color-option" style="background-color: #34c759;" data-color="green"></div>
                <div class="color-option" style="background-color: #ff9500;" data-color="orange"></div>
            </div>
            <button class="theme-toggle" id="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </header>

    <div class="container">
        <div class="tool-grid">
            <!-- Text Case Converter -->
            <div class="tool-card">
                <h3><i class="fas fa-font"></i> Text Case Converter</h3>
                <div class="form-group">
                    <label for="case-input">Enter your text:</label>
                    <textarea id="case-input" rows="4" placeholder="Type or paste your text here"></textarea>
                </div>
                <div class="form-group">
                    <label for="case-type">Convert to:</label>
                    <select id="case-type">
                        <option value="upper">UPPERCASE</option>
                        <option value="lower">lowercase</option>
                        <option value="title">Title Case</option>
                        <option value="sentence">Sentence case</option>
                        <option value="inverse">iNVERSE cASE</option>
                        <option value="alternating">AlTeRnAtInG cAsE</option>
                        <option value="camel">camelCase</option>
                        <option value="pascal">PascalCase</option>
                        <option value="snake">snake_case</option>
                        <option value="kebab">kebab-case</option>
                    </select>
                </div>
                <button id="convert-case" class="success"><i class="fas fa-exchange-alt"></i> Convert</button>
                <div class="form-group">
                    <label>Result:</label>
                    <div class="result" id="case-result"></div>
                </div>
                <button id="copy-case" class="secondary"><i class="fas fa-copy"></i> Copy to Clipboard</button>
            </div>

            <!-- Random Number Generator -->
            <div class="tool-card">
                <h3><i class="fas fa-random"></i> Random Number Generator</h3>
                <div class="form-group">
                    <label for="min-number">Minimum value:</label>
                    <input type="number" id="min-number" value="1">
                </div>
                <div class="form-group">
                    <label for="max-number">Maximum value:</label>
                    <input type="number" id="max-number" value="100">
                </div>
                <div class="form-group">
                    <label for="number-count">How many numbers?</label>
                    <input type="number" id="number-count" value="1" min="1" max="100">
                </div>
                <div class="form-group">
                    <label for="number-decimal">Decimal places:</label>
                    <input type="number" id="number-decimal" value="0" min="0" max="10">
                </div>
                <button id="generate-number" class="warning"><i class="fas fa-dice"></i> Generate</button>
                <div class="form-group">
                    <label>Result:</label>
                    <div class="result" id="number-result"></div>
                </div>
                <button id="copy-numbers" class="secondary"><i class="fas fa-copy"></i> Copy to Clipboard</button>
            </div>

            <!-- Scientific Calculator -->
            <div class="tool-card">
                <h3><i class="fas fa-calculator"></i> Scientific Calculator</h3>
                <div class="form-group">
                    <label for="calc-input">Calculation:</label>
                    <input type="text" id="calc-input" placeholder="Enter expression (e.g., 2+3*sin(45))">
                </div>
                <div class="form-group">
                    <label>Available functions: sin, cos, tan, log, sqrt, pow, etc.</label>
                </div>
                <button id="calculate-scientific" class="success"><i class="fas fa-equals"></i> Calculate</button>
                <div class="form-group">
                    <label>Result:</label>
                    <div class="result" id="calc-scientific-result"></div>
                </div>
                <div class="calculator-buttons">
                    <button class="calc-btn" data-value="7">7</button>
                    <button class="calc-btn" data-value="8">8</button>
                    <button class="calc-btn" data-value="9">9</button>
                    <button class="calc-btn" data-value="/">/</button>
                    <button class="calc-btn" data-value="4">4</button>
                    <button class="calc-btn" data-value="5">5</button>
                    <button class="calc-btn" data-value="6">6</button>
                    <button class="calc-btn" data-value="*">×</button>
                    <button class="calc-btn" data-value="1">1</button>
                    <button class="calc-btn" data-value="2">2</button>
                    <button class="calc-btn" data-value="3">3</button>
                    <button class="calc-btn" data-value="-">-</button>
                    <button class="calc-btn" data-value="0">0</button>
                    <button class="calc-btn" data-value=".">.</button>
                    <button class="calc-btn" data-value="+">+</button>
                    <button class="calc-btn" data-value="(">(</button>
                    <button class="calc-btn" data-value=")">)</button>
                    <button class="calc-btn" data-value="sin(">sin</button>
                    <button class="calc-btn" data-value="cos(">cos</button>
                    <button class="calc-btn" data-value="sqrt(">√</button>
                    <button id="clear-calc" class="danger">C</button>
                </div>
            </div>

            <!-- Password Generator -->
            <div class="tool-card">
                <h3><i class="fas fa-key"></i> Password Generator</h3>
                <div class="form-group">
                    <label for="pass-length">Password length:</label>
                    <input type="range" id="pass-length" min="4" max="64" value="12">
                    <span id="pass-length-value">12</span>
                </div>
                <div class="form-group">
                    <label>Include:</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="pass-uppercase" checked>
                        <label for="pass-uppercase">Uppercase letters (A-Z)</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="pass-lowercase" checked>
                        <label for="pass-lowercase">Lowercase letters (a-z)</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="pass-numbers" checked>
                        <label for="pass-numbers">Numbers (0-9)</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="pass-symbols">
                        <label for="pass-symbols">Symbols (!@#$%^&*)</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="pass-similar">
                        <label for="pass-similar">Exclude similar characters (iIlLoO01)</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="pass-ambiguous">
                        <label for="pass-ambiguous">Exclude ambiguous characters ({}[]()/\'"`~,;:.<>)</label>
                    </div>
                </div>
                <button id="generate-password" class="warning"><i class="fas fa-sync-alt"></i> Generate Password</button>
                <div class="form-group">
                    <label>Generated Password:</label>
                    <div class="result" id="password-result"></div>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="password-strength-bar"></div>
                </div>
                <div class="password-strength" id="password-strength-text">Strength: -</div>
                <button id="copy-password" class="secondary"><i class="fas fa-copy"></i> Copy to Clipboard</button>
            </div>

            <!-- Unit Converter -->
            <div class="tool-card">
                <h3><i class="fas fa-ruler-combined"></i> Unit Converter</h3>
                <div class="tab-buttons">
                    <button class="tab-button active" data-tab="length"><i class="fas fa-ruler"></i> Length</button>
                    <button class="tab-button" data-tab="temperature"><i class="fas fa-temperature-high"></i> Temperature</button>
                    <button class="tab-button" data-tab="weight"><i class="fas fa-weight"></i> Weight</button>
                    <button class="tab-button" data-tab="time"><i class="fas fa-clock"></i> Time</button>
                </div>
                
                <div class="tab-content active" id="length-tab">
                    <div class="form-group">
                        <label for="length-value">Value:</label>
                        <input type="number" id="length-value" step="any" value="1">
                    </div>
                    <div class="form-group">
                        <label for="length-from">From:</label>
                        <select id="length-from">
                            <option value="meter">Meter (m)</option>
                            <option value="kilometer">Kilometer (km)</option>
                            <option value="centimeter">Centimeter (cm)</option>
                            <option value="millimeter">Millimeter (mm)</option>
                            <option value="mile">Mile (mi)</option>
                            <option value="yard">Yard (yd)</option>
                            <option value="foot">Foot (ft)</option>
                            <option value="inch">Inch (in)</option>
                            <option value="nautical-mile">Nautical Mile</option>
                            <option value="light-year">Light Year</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="length-to">To:</label>
                        <select id="length-to">
                            <option value="foot">Foot (ft)</option>
                            <option value="meter">Meter (m)</option>
                            <option value="kilometer">Kilometer (km)</option>
                            <option value="centimeter">Centimeter (cm)</option>
                            <option value="millimeter">Millimeter (mm)</option>
                            <option value="mile">Mile (mi)</option>
                            <option value="yard">Yard (yd)</option>
                            <option value="inch">Inch (in)</option>
                            <option value="nautical-mile">Nautical Mile</option>
                            <option value="light-year">Light Year</option>
                        </select>
                    </div>
                    <button id="convert-length" class="success"><i class="fas fa-exchange-alt"></i> Convert</button>
                    <div class="form-group">
                        <label>Result:</label>
                        <div class="result" id="length-result"></div>
                    </div>
                </div>
                
                <div class="tab-content" id="temperature-tab">
                    <div class="form-group">
                        <label for="temp-value">Value:</label>
                        <input type="number" id="temp-value" step="any" value="0">
                    </div>
                    <div class="form-group">
                        <label for="temp-from">From:</label>
                        <select id="temp-from">
                            <option value="celsius">Celsius (°C)</option>
                            <option value="fahrenheit">Fahrenheit (°F)</option>
                            <option value="kelvin">Kelvin (K)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="temp-to">To:</label>
                        <select id="temp-to">
                            <option value="fahrenheit">Fahrenheit (°F)</option>
                            <option value="celsius">Celsius (°C)</option>
                            <option value="kelvin">Kelvin (K)</option>
                        </select>
                    </div>
                    <button id="convert-temp" class="success"><i class="fas fa-exchange-alt"></i> Convert</button>
                    <div class="form-group">
                        <label>Result:</label>
                        <div class="result" id="temp-result"></div>
                    </div>
                </div>
                
                <div class="tab-content" id="weight-tab">
                    <div class="form-group">
                        <label for="weight-value">Value:</label>
                        <input type="number" id="weight-value" step="any" value="1">
                    </div>
                    <div class="form-group">
                        <label for="weight-from">From:</label>
                        <select id="weight-from">
                            <option value="kilogram">Kilogram (kg)</option>
                            <option value="gram">Gram (g)</option>
                            <option value="milligram">Milligram (mg)</option>
                            <option value="pound">Pound (lb)</option>
                            <option value="ounce">Ounce (oz)</option>
                            <option value="ton">Ton (t)</option>
                            <option value="stone">Stone (st)</option>
                            <option value="carat">Carat (ct)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="weight-to">To:</label>
                        <select id="weight-to">
                            <option value="pound">Pound (lb)</option>
                            <option value="kilogram">Kilogram (kg)</option>
                            <option value="gram">Gram (g)</option>
                            <option value="milligram">Milligram (mg)</option>
                            <option value="ounce">Ounce (oz)</option>
                            <option value="ton">Ton (t)</option>
                            <option value="stone">Stone (st)</option>
                            <option value="carat">Carat (ct)</option>
                        </select>
                    </div>
                    <button id="convert-weight" class="success"><i class="fas fa-exchange-alt"></i> Convert</button>
                    <div class="form-group">
                        <label>Result:</label>
                        <div class="result" id="weight-result"></div>
                    </div>
                </div>
                
                <div class="tab-content" id="time-tab">
                    <div class="form-group">
                        <label for="time-value">Value:</label>
                        <input type="number" id="time-value" step="any" value="1">
                    </div>
                    <div class="form-group">
                        <label for="time-from">From:</label>
                        <select id="time-from">
                            <option value="second">Second (s)</option>
                            <option value="millisecond">Millisecond (ms)</option>
                            <option value="minute">Minute (min)</option>
                            <option value="hour">Hour (hr)</option>
                            <option value="day">Day</option>
                            <option value="week">Week</option>
                            <option value="month">Month (30 days)</option>
                            <option value="year">Year (365 days)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="time-to">To:</label>
                        <select id="time-to">
                            <option value="minute">Minute (min)</option>
                            <option value="second">Second (s)</option>
                            <option value="millisecond">Millisecond (ms)</option>
                            <option value="hour">Hour (hr)</option>
                            <option value="day">Day</option>
                            <option value="week">Week</option>
                            <option value="month">Month (30 days)</option>
                            <option value="year">Year (365 days)</option>
                        </select>
                    </div>
                    <button id="convert-time" class="success"><i class="fas fa-exchange-alt"></i> Convert</button>
                    <div class="form-group">
                        <label>Result:</label>
                        <div class="result" id="time-result"></div>
                    </div>
                </div>
            </div>

            <!-- To-Do List -->
            <div class="tool-card">
                <h3><i class="fas fa-tasks"></i> To-Do List</h3>
                <div class="form-group">
                    <label for="todo-input">Add a new task:</label>
                    <input type="text" id="todo-input" placeholder="What needs to be done?">
                </div>
                <button id="add-todo" class="success"><i class="fas fa-plus"></i> Add Task</button>
                <div class="form-group">
                    <label>Your Tasks: <span id="todo-count">0</span></label>
                    <div id="todo-list"></div>
                </div>
                <button id="clear-completed" class="secondary"><i class="fas fa-trash"></i> Clear Completed</button>
                <button id="clear-all" class="danger"><i class="fas fa-broom"></i> Clear All</button>
            </div>

            <!-- Color Picker -->
            <div class="tool-card">
                <h3><i class="fas fa-palette"></i> Color Picker</h3>
                <div class="form-group">
                    <label for="color-hex">Hex Color:</label>
                    <input type="text" id="color-hex" value="#0071e3" maxlength="7">
                </div>
                <div class="form-group">
                    <label for="color-rgb">RGB Color:</label>
                    <input type="text" id="color-rgb" value="rgb(0, 113, 227)" readonly>
                </div>
                <div class="form-group">
                    <label for="color-hsl">HSL Color:</label>
                    <input type="text" id="color-hsl" value="hsl(210, 100%, 45%)" readonly>
                </div>
                <div class="color-preview" id="color-preview" style="background-color: #0071e3;"></div>
                <div class="form-group">
                    <label for="color-r">Red:</label>
                    <input type="range" id="color-r" min="0" max="255" value="0">
                </div>
                <div class="form-group">
                    <label for="color-g">Green:</label>
                    <input type="range" id="color-g" min="0" max="255" value="113">
                </div>
                <div class="form-group">
                    <label for="color-b">Blue:</label>
                    <input type="range" id="color-b" min="0" max="255" value="227">
                </div>
                <button id="random-color" class="warning"><i class="fas fa-random"></i> Random Color</button>
                <button id="copy-hex" class="secondary"><i class="fas fa-copy"></i> Copy Hex</button>
                <button id="copy-rgb" class="secondary"><i class="fas fa-copy"></i> Copy RGB</button>
            </div>

            <!-- Age Calculator -->
            <div class="tool-card">
                <h3><i class="fas fa-birthday-cake"></i> Age Calculator</h3>
                <div class="form-group">
                    <label for="birth-date">Your birth date:</label>
                    <input type="date" id="birth-date">
                </div>
                <div class="form-group">
                    <label for="age-at-date">Calculate age at:</label>
                    <input type="date" id="age-at-date">
                </div>
                <button id="calculate-age" class="success"><i class="fas fa-calculator"></i> Calculate Age</button>
                <div class="form-group">
                    <label>Result:</label>
                    <div class="result" id="age-result"></div>
                </div>
            </div>

            <!-- BMI Calculator -->
            <div class="tool-card">
                <h3><i class="fas fa-weight"></i> BMI Calculator</h3>
                <div class="form-group">
                    <label for="bmi-height">Height:</label>
                    <div style="display: flex; gap: 1rem;">
                        <input type="number" id="bmi-height-cm" min="100" max="250" value="170" style="flex: 1;">
                        <select id="bmi-height-unit" style="width: 80px;">
                            <option value="cm">cm</option>
                            <option value="in">in</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="bmi-weight">Weight:</label>
                    <div style="display: flex; gap: 1rem;">
                        <input type="number" id="bmi-weight-kg" min="30" max="200" value="70" style="flex: 1;">
                        <select id="bmi-weight-unit" style="width: 80px;">
                            <option value="kg">kg</option>
                            <option value="lb">lb</option>
                        </select>
                    </div>
                </div>
                <button id="calculate-bmi" class="success"><i class="fas fa-calculator"></i> Calculate BMI</button>
                <div class="form-group">
                    <label>Result:</label>
                    <div class="result" id="bmi-result"></div>
                </div>
                <div class="form-group">
                    <label>BMI Categories:</label>
                    <ul style="font-size: 0.9rem; color: var(--dark-gray);">
                        <li>Underweight: BMI less than 18.5</li>
                        <li>Normal weight: BMI 18.5-24.9</li>
                        <li>Overweight: BMI 25-29.9</li>
                        <li>Obese: BMI 30 or greater</li>
                    </ul>
                </div>
            </div>

            <!-- Currency Converter -->
            <div class="tool-card">
                <h3><i class="fas fa-money-bill-wave"></i> Currency Converter</h3>
                <div class="form-group">
                    <label for="currency-amount">Amount:</label>
                    <input type="number" id="currency-amount" step="any" value="1">
                </div>
                <div class="form-group">
                    <label for="currency-from">From:</label>
                    <select id="currency-from">
                        <option value="USD">US Dollar (USD)</option>
                        <option value="EUR">Euro (EUR)</option>
                        <option value="GBP">British Pound (GBP)</option>
                        <option value="JPY">Japanese Yen (JPY)</option>
                        <option value="CAD">Canadian Dollar (CAD)</option>
                        <option value="AUD">Australian Dollar (AUD)</option>
                        <option value="CNY">Chinese Yuan (CNY)</option>
                        <option value="INR">Indian Rupee (INR)</option>
                        <option value="BRL">Brazilian Real (BRL)</option>
                        <option value="ZAR">South African Rand (ZAR)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="currency-to">To:</label>
                    <select id="currency-to">
                        <option value="EUR">Euro (EUR)</option>
                        <option value="USD">US Dollar (USD)</option>
                        <option value="GBP">British Pound (GBP)</option>
                        <option value="JPY">Japanese Yen (JPY)</option>
                        <option value="CAD">Canadian Dollar (CAD)</option>
                        <option value="AUD">Australian Dollar (AUD)</option>
                        <option value="CNY">Chinese Yuan (CNY)</option>
                        <option value="INR">Indian Rupee (INR)</option>
                        <option value="BRL">Brazilian Real (BRL)</option>
                        <option value="ZAR">South African Rand (ZAR)</option>
                    </select>
                </div>
                <button id="convert-currency" class="success"><i class="fas fa-exchange-alt"></i> Convert</button>
                <div class="form-group">
                    <label>Result:</label>
                    <div class="result" id="currency-result"></div>
                </div>
                <div class="form-group">
                    <label>Last updated: <span id="currency-date">-</span></label>
                </div>
            </div>

            <!-- Word Counter -->
            <div class="tool-card">
                <h3><i class="fas fa-font"></i> Word Counter</h3>
                <div class="form-group">
                    <label for="word-input">Enter your text:</label>
                    <textarea id="word-input" rows="4" placeholder="Type or paste your text here"></textarea>
                </div>
                <button id="count-words" class="success"><i class="fas fa-calculator"></i> Count Words</button>
                <div class="form-group">
                    <label>Result:</label>
                    <div class="result" id="word-result"></div>
                </div>
            </div>

            <!-- QR Code Generator -->
            <div class="tool-card">
                <h3><i class="fas fa-qrcode"></i> QR Code Generator</h3>
                <div class="form-group">
                    <label for="qr-text">Enter text or URL:</label>
                    <input type="text" id="qr-text" placeholder="https://example.com">
                </div>
                <div class="form-group">
                    <label for="qr-size">Size:</label>
                    <select id="qr-size">
                        <option value="100">100x100</option>
                        <option value="150">150x150</option>
                        <option value="200" selected>200x200</option>
                        <option value="250">250x250</option>
                        <option value="300">300x300</option>
                    </select>
                </div>
                <button id="generate-qr" class="success"><i class="fas fa-qrcode"></i> Generate QR Code</button>
                <div class="form-group">
                    <label>QR Code:</label>
                    <div style="text-align: center; margin-top: 1rem;">
                        <canvas id="qr-code"></canvas>
                    </div>
                </div>
                <button id="download-qr" class="secondary"><i class="fas fa-download"></i> Download QR Code</button>
            </div>

            <!-- Base64 Encoder/Decoder -->
            <div class="tool-card">
                <h3><i class="fas fa-lock"></i> Base64 Converter</h3>
                <div class="form-group">
                    <label for="base64-input">Text:</label>
                    <textarea id="base64-input" rows="3" placeholder="Enter text to encode or decode"></textarea>
                </div>
                <div class="form-group">
                    <label for="base64-action">Action:</label>
                    <select id="base64-action">
                        <option value="encode">Encode to Base64</option>
                        <option value="decode">Decode from Base64</option>
                    </select>
                </div>
                <button id="convert-base64" class="success"><i class="fas fa-exchange-alt"></i> Convert</button>
                <div class="form-group">
                    <label>Result:</label>
                    <div class="result" id="base64-result"></div>
                </div>
                <button id="copy-base64" class="secondary"><i class="fas fa-copy"></i> Copy to Clipboard</button>
            </div>

            <!-- Time Zone Converter -->
            <div class="tool-card">
                <h3><i class="fas fa-globe"></i> Time Zone Converter</h3>
                <div class="form-group">
                    <label for="tz-date">Date:</label>
                    <input type="date" id="tz-date">
                </div>
                <div class="form-group">
                    <label for="tz-time">Time:</label>
                    <input type="time" id="tz-time" step="60">
                </div>
                <div class="form-group">
                    <label for="tz-from">From Time Zone:</label>
                    <select id="tz-from">
                        <option value="UTC">UTC</option>
                        <option value="GMT">GMT</option>
                        <option value="EST">EST (Eastern)</option>
                        <option value="CST">CST (Central)</option>
                        <option value="PST">PST (Pacific)</option>
                        <option value="CET">CET (Central Europe)</option>
                        <option value="IST">IST (India)</option>
                        <option value="JST">JST (Japan)</option>
                        <option value="AEST">AEST (Australia East)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="tz-to">To Time Zone:</label>
                    <select id="tz-to">
                        <option value="PST">PST (Pacific)</option>
                        <option value="UTC">UTC</option>
                        <option value="GMT">GMT</option>
                        <option value="EST">EST (Eastern)</option>
                        <option value="CST">CST (Central)</option>
                        <option value="CET">CET (Central Europe)</option>
                        <option value="IST">IST (India)</option>
                        <option value="JST">JST (Japan)</option>
                        <option value="AEST">AEST (Australia East)</option>
                    </select>
                </div>
                <button id="convert-timezone" class="success"><i class="fas fa-exchange-alt"></i> Convert</button>
                <div class="form-group">
                    <label>Result:</label>
                    <div class="result" id="tz-result"></div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>© 2023 Super Utility Tools. All rights reserved.</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <script>
        // Theme Toggle
        const themeToggle = document.getElementById('theme-toggle');
        themeToggle.addEventListener('click', function() {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
        });

        // Color Picker
        document.querySelectorAll('.color-option').forEach(option => {
            option.addEventListener('click', function() {
                const color = this.getAttribute('data-color');
                let primaryColor;
                switch(color) {
                    case 'blue': primaryColor = '#0071e3'; break;
                    case 'purple': primaryColor = '#5856d6'; break;
                    case 'red': primaryColor = '#ff2d55'; break;
                    case 'green': primaryColor = '#34c759'; break;
                    case 'orange': primaryColor = '#ff9500'; break;
                }
                document.documentElement.style.setProperty('--primary-color', primaryColor);
            });
        });

        // Text Case Converter
        document.getElementById('convert-case').addEventListener('click', function() {
            const text = document.getElementById('case-input').value;
            const caseType = document.getElementById('case-type').value;
            let result = '';
            
            switch(caseType) {
                case 'upper':
                    result = text.toUpperCase();
                    break;
                case 'lower':
                    result = text.toLowerCase();
                    break;
                case 'title':
                    result = text.toLowerCase().split(' ').map(word => 
                        word.charAt(0).toUpperCase() + word.slice(1)
                    ).join(' ');
                    break;
                case 'sentence':
                    result = text.toLowerCase().replace(/(^\s*\w|[.!?]\s*\w)/g, c => c.toUpperCase());
                    break;
                case 'inverse':
                    result = text.split('').map(c => 
                        c === c.toUpperCase() ? c.toLowerCase() : c.toUpperCase()
                    ).join('');
                    break;
                case 'alternating':
                    result = text.split('').map((c, i) => 
                        i % 2 === 0 ? c.toLowerCase() : c.toUpperCase()
                    ).join('');
                    break;
                case 'camel':
                    result = text.toLowerCase().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g, (match, index) => {
                        if (+match === 0) return "";
                        return index === 0 ? match.toLowerCase() : match.toUpperCase();
                    });
                    break;
                case 'pascal':
                    result = text.toLowerCase().replace(/(?:^\w|[A-Z]|\b\w|\s+)/g, (match) => {
                        if (+match === 0) return "";
                        return match.toUpperCase();
                    });
                    break;
                case 'snake':
                    result = text.toLowerCase().replace(/\s+/g, '_');
                    break;
                case 'kebab':
                    result = text.toLowerCase().replace(/\s+/g, '-');
                    break;
                default:
                    result = text;
            }
            
            document.getElementById('case-result').textContent = result;
        });

        // Copy Case Result
        document.getElementById('copy-case').addEventListener('click', function() {
            const result = document.getElementById('case-result').textContent;
            if (result) {
                navigator.clipboard.writeText(result);
                this.textContent = 'Copied!';
                setTimeout(() => this.innerHTML = '<i class="fas fa-copy"></i> Copy to Clipboard', 2000);
            }
        });

        // Random Number Generator
        document.getElementById('generate-number').addEventListener('click', function() {
            const min = parseFloat(document.getElementById('min-number').value);
            const max = parseFloat(document.getElementById('max-number').value);
            const count = parseInt(document.getElementById('number-count').value);
            const decimalPlaces = parseInt(document.getElementById('number-decimal').value);
            
            if (min >= max) {
                document.getElementById('number-result').textContent = 'Error: Min must be less than Max';
                return;
            }
            
            let numbers = [];
            for (let i = 0; i < count; i++) {
                let num = Math.random() * (max - min) + min;
                numbers.push(num.toFixed(decimalPlaces));
            }
            
            document.getElementById('number-result').textContent = numbers.join(', ');
        });

        // Copy Numbers
        document.getElementById('copy-numbers').addEventListener('click', function() {
            const result = document.getElementById('number-result').textContent;
            if (result) {
                navigator.clipboard.writeText(result);
                this.textContent = 'Copied!';
                setTimeout(() => this.innerHTML = '<i class="fas fa-copy"></i> Copy to Clipboard', 2000);
            }
        });

        // Scientific Calculator
        document.getElementById('calculate-scientific').addEventListener('click', function() {
            try {
                const input = document.getElementById('calc-input').value;
                // Replace trigonometric functions to use radians
                let expression = input
                    .replace(/sin\(/g, 'Math.sin(')
                    .replace(/cos\(/g, 'Math.cos(')
                    .replace(/tan\(/g, 'Math.tan(')
                    .replace(/sqrt\(/g, 'Math.sqrt(')
                    .replace(/log\(/g, 'Math.log10(')
                    .replace(/ln\(/g, 'Math.log(')
                    .replace(/\^/g, '**');
                
                const result = eval(expression);
                document.getElementById('calc-scientific-result').textContent = result;
            } catch (e) {
                document.getElementById('calc-scientific-result').textContent = 'Error: Invalid expression';
            }
        });

        // Calculator buttons
        document.querySelectorAll('.calc-btn').forEach(button => {
            button.addEventListener('click', function() {
                const input = document.getElementById('calc-input');
                input.value += this.getAttribute('data-value');
                input.focus();
            });
        });

        // Clear calculator
        document.getElementById('clear-calc').addEventListener('click', function() {
            document.getElementById('calc-input').value = '';
        });

        // Password Generator
        document.getElementById('pass-length').addEventListener('input', function() {
            document.getElementById('pass-length-value').textContent = this.value;
        });

        document.getElementById('generate-password').addEventListener('click', function() {
            const length = parseInt(document.getElementById('pass-length').value);
            const uppercase = document.getElementById('pass-uppercase').checked;
            const lowercase = document.getElementById('pass-lowercase').checked;
            const numbers = document.getElementById('pass-numbers').checked;
            const symbols = document.getElementById('pass-symbols').checked;
            const excludeSimilar = document.getElementById('pass-similar').checked;
            const excludeAmbiguous = document.getElementById('pass-ambiguous').checked;
            
            if (length < 4 || length > 64) {
                document.getElementById('password-result').textContent = 'Password length must be between 4 and 64';
                return;
            }
            
            if (!uppercase && !lowercase && !numbers && !symbols) {
                document.getElementById('password-result').textContent = 'Select at least one character type';
                return;
            }
            
            let charset = '';
            if (uppercase) charset += 'ABCDEFGHJKLMNPQRSTUVWXYZ';
            if (lowercase) charset += 'abcdefghijkmnopqrstuvwxyz';
            if (numbers) charset += '23456789';
            if (symbols) charset += '!@#$%^&*';
            
            // Handle exclusions
            if (excludeSimilar) {
                charset = charset.replace(/[iIlLoO01]/g, '');
            }
            if (excludeAmbiguous) {
                charset = charset.replace(/[{}[\]()\/\\'"`~,;:.<>]/g, '');
            }
            
            let password = '';
            for (let i = 0; i < length; i++) {
                password += charset.charAt(Math.floor(Math.random() * charset.length));
            }
            
            document.getElementById('password-result').textContent = password;
            
            // Calculate password strength
            let strength = 0;
            if (length >= 8) strength++;
            if (length >= 12) strength++;
            if (uppercase) strength++;
            if (lowercase) strength++;
            if (numbers) strength++;
            if (symbols) strength += 2;
            
            const strengthBar = document.getElementById('password-strength-bar');
            const strengthText = document.getElementById('password-strength-text');
            
            if (strength <= 3) {
                strengthBar.style.backgroundColor = 'var(--danger-color)';
                strengthBar.style.width = '33%';
                strengthText.textContent = 'Strength: Weak';
                strengthText.className = 'password-strength strength-weak';
            } else if (strength <= 6) {
                strengthBar.style.backgroundColor = 'var(--warning-color)';
                strengthBar.style.width = '66%';
                strengthText.textContent = 'Strength: Medium';
                strengthText.className = 'password-strength strength-medium';
            } else {
                strengthBar.style.backgroundColor = 'var(--success-color)';
                strengthBar.style.width = '100%';
                strengthText.textContent = 'Strength: Strong';
                strengthText.className = 'password-strength strength-strong';
            }
        });

        // Copy Password
        document.getElementById('copy-password').addEventListener('click', function() {
            const result = document.getElementById('password-result').textContent;
            if (result) {
                navigator.clipboard.writeText(result);
                this.textContent = 'Copied!';
                setTimeout(() => this.innerHTML = '<i class="fas fa-copy"></i> Copy to Clipboard', 2000);
            }
        });

        // Unit Converter - Tab functionality
        document.querySelectorAll('.tab-button').forEach(button => {
            button.addEventListener('click', function() {
                const tabId = this.getAttribute('data-tab');
                
                // Hide all tab contents and remove active class from buttons
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                document.querySelectorAll('.tab-button').forEach(btn => {
                    btn.classList.remove('active');
                });
                
                // Show selected tab content and mark button as active
                document.getElementById(tabId + '-tab').classList.add('active');
                this.classList.add('active');
            });
        });

        // Length Converter
        document.getElementById('convert-length').addEventListener('click', function() {
            const value = parseFloat(document.getElementById('length-value').value);
            const from = document.getElementById('length-from').value;
            const to = document.getElementById('length-to').value;
            
            // Convert to meters first
            let meters;
            switch(from) {
                case 'meter': meters = value; break;
                case 'kilometer': meters = value * 1000; break;
                case 'centimeter': meters = value / 100; break;
                case 'millimeter': meters = value / 1000; break;
                case 'mile': meters = value * 1609.344; break;
                case 'yard': meters = value * 0.9144; break;
                case 'foot': meters = value * 0.3048; break;
                case 'inch': meters = value * 0.0254; break;
                case 'nautical-mile': meters = value * 1852; break;
                case 'light-year': meters = value * 9.461e+15; break;
            }
            
            // Convert from meters to target unit
            let result;
            switch(to) {
                case 'meter': result = meters; break;
                case 'kilometer': result = meters / 1000; break;
                case 'centimeter': result = meters * 100; break;
                case 'millimeter': result = meters * 1000; break;
                case 'mile': result = meters / 1609.344; break;
                case 'yard': result = meters / 0.9144; break;
                case 'foot': result = meters / 0.3048; break;
                case 'inch': result = meters / 0.0254; break;
                case 'nautical-mile': result = meters / 1852; break;
                case 'light-year': result = meters / 9.461e+15; break;
            }
            
            document.getElementById('length-result').textContent = `${value.toLocaleString()} ${from} = ${result.toFixed(6)} ${to}`;
        });

        // Temperature Converter
        document.getElementById('convert-temp').addEventListener('click', function() {
            const value = parseFloat(document.getElementById('temp-value').value);
            const from = document.getElementById('temp-from').value;
            const to = document.getElementById('temp-to').value;
            
            // Convert to Celsius first
            let celsius;
            switch(from) {
                case 'celsius': celsius = value; break;
                case 'fahrenheit': celsius = (value - 32) * 5/9; break;
                case 'kelvin': celsius = value - 273.15; break;
            }
            
            // Convert from Celsius to target unit
            let result;
            switch(to) {
                case 'celsius': result = celsius; break;
                case 'fahrenheit': result = (celsius * 9/5) + 32; break;
                case 'kelvin': result = celsius + 273.15; break;
            }
            
            document.getElementById('temp-result').textContent = `${value.toLocaleString()} °${from.charAt(0).toUpperCase()} = ${result.toFixed(2)} °${to.charAt(0).toUpperCase()}`;
        });

        // Weight Converter
        document.getElementById('convert-weight').addEventListener('click', function() {
            const value = parseFloat(document.getElementById('weight-value').value);
            const from = document.getElementById('weight-from').value;
            const to = document.getElementById('weight-to').value;
            
            // Convert to kilograms first
            let kilograms;
            switch(from) {
                case 'kilogram': kilograms = value; break;
                case 'gram': kilograms = value / 1000; break;
                case 'milligram': kilograms = value / 1000000; break;
                case 'pound': kilograms = value * 0.453592; break;
                case 'ounce': kilograms = value * 0.0283495; break;
                case 'ton': kilograms = value * 1000; break;
                case 'stone': kilograms = value * 6.35029; break;
                case 'carat': kilograms = value * 0.0002; break;
            }
            
            // Convert from kilograms to target unit
            let result;
            switch(to) {
                case 'kilogram': result = kilograms; break;
                case 'gram': result = kilograms * 1000; break;
                case 'milligram': result = kilograms * 1000000; break;
                case 'pound': result = kilograms / 0.453592; break;
                case 'ounce': result = kilograms / 0.0283495; break;
                case 'ton': result = kilograms / 1000; break;
                case 'stone': result = kilograms / 6.35029; break;
                case 'carat': result = kilograms / 0.0002; break;
            }
            
            document.getElementById('weight-result').textContent = `${value.toLocaleString()} ${from} = ${result.toFixed(6)} ${to}`;
        });

        // Time Converter
        document.getElementById('convert-time').addEventListener('click', function() {
            const value = parseFloat(document.getElementById('time-value').value);
            const from = document.getElementById('time-from').value;
            const to = document.getElementById('time-to').value;
            
            // Convert to seconds first
            let seconds;
            switch(from) {
                case 'second': seconds = value; break;
                case 'millisecond': seconds = value / 1000; break;
                case 'minute': seconds = value * 60; break;
                case 'hour': seconds = value * 3600; break;
                case 'day': seconds = value * 86400; break;
                case 'week': seconds = value * 604800; break;
                case 'month': seconds = value * 2592000; break; // 30 days
                case 'year': seconds = value * 31536000; break; // 365 days
            }
            
            // Convert from seconds to target unit
            let result;
            switch(to) {
                case 'second': result = seconds; break;
                case 'millisecond': result = seconds * 1000; break;
                case 'minute': result = seconds / 60; break;
                case 'hour': result = seconds / 3600; break;
                case 'day': result = seconds / 86400; break;
                case 'week': result = seconds / 604800; break;
                case 'month': result = seconds / 2592000; break;
                case 'year': result = seconds / 31536000; break;
            }
            
            document.getElementById('time-result').textContent = `${value.toLocaleString()} ${from} = ${result.toFixed(6)} ${to}`;
        });

        // To-Do List
        let todos = JSON.parse(localStorage.getItem('todos')) || [];
        
        function renderTodos() {
            const todoList = document.getElementById('todo-list');
            todoList.innerHTML = '';
            
            todos.forEach((todo, index) => {
                const todoItem = document.createElement('div');
                todoItem.className = 'todo-item';
                todoItem.innerHTML = `
                    <span>${todo.text}</span>
                    <div>
                        <button class="complete-todo" data-index="${index}"><i class="fas fa-check"></i></button>
                        <button class="delete-todo" data-index="${index}"><i class="fas fa-trash"></i></button>
                    </div>
                `;
                if (todo.completed) {
                    todoItem.style.opacity = '0.7';
                    todoItem.querySelector('span').style.textDecoration = 'line-through';
                }
                todoList.appendChild(todoItem);
            });
            
            document.getElementById('todo-count').textContent = todos.length;
            
            // Add event listeners
            document.querySelectorAll('.delete-todo').forEach(button => {
                button.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    todos.splice(index, 1);
                    localStorage.setItem('todos', JSON.stringify(todos));
                    renderTodos();
                });
            });
            
            document.querySelectorAll('.complete-todo').forEach(button => {
                button.addEventListener('click', function() {
                    const index = parseInt(this.getAttribute('data-index'));
                    todos[index].completed = !todos[index].completed;
                    localStorage.setItem('todos', JSON.stringify(todos));
                    renderTodos();
                });
            });
        }
        
        document.getElementById('add-todo').addEventListener('click', function() {
            const input = document.getElementById('todo-input');
            const task = input.value.trim();
            
            if (task) {
                todos.push({ text: task, completed: false });
                localStorage.setItem('todos', JSON.stringify(todos));
                input.value = '';
                renderTodos();
            }
        });
        
        document.getElementById('clear-completed').addEventListener('click', function() {
            todos = todos.filter(todo => !todo.completed);
            localStorage.setItem('todos', JSON.stringify(todos));
            renderTodos();
        });
        
        document.getElementById('clear-all').addEventListener('click', function() {
            if (confirm('Are you sure you want to delete all tasks?')) {
                todos = [];
                localStorage.setItem('todos', JSON.stringify(todos));
                renderTodos();
            }
        });
        
        // Allow adding todos with Enter key
        document.getElementById('todo-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('add-todo').click();
            }
        });
        
        // Initial render
        renderTodos();

        // Color Picker
        function updateColorPreview() {
            const r = document.getElementById('color-r').value;
            const g = document.getElementById('color-g').value;
            const b = document.getElementById('color-b').value;
            const hex = rgbToHex(parseInt(r), parseInt(g), parseInt(b));
            const hsl = rgbToHsl(parseInt(r), parseInt(g), parseInt(b));
            
            document.getElementById('color-hex').value = hex;
            document.getElementById('color-rgb').value = `rgb(${r}, ${g}, ${b})`;
            document.getElementById('color-hsl').value = `hsl(${hsl.h}, ${hsl.s}%, ${hsl.l}%)`;
            document.getElementById('color-preview').style.backgroundColor = hex;
        }
        
        function rgbToHex(r, g, b) {
            return "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1);
        }
        
        function rgbToHsl(r, g, b) {
            r /= 255, g /= 255, b /= 255;
            const max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            
            if (max === min) {
                h = s = 0; // achromatic
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch(max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }
            
            return {
                h: Math.round(h * 360),
                s: Math.round(s * 100),
                l: Math.round(l * 100)
            };
        }
        
        document.getElementById('color-r').addEventListener('input', updateColorPreview);
        document.getElementById('color-g').addEventListener('input', updateColorPreview);
        document.getElementById('color-b').addEventListener('input', updateColorPreview);
        
        document.getElementById('color-hex').addEventListener('input', function() {
            const hex = this.value;
            if (/^#[0-9A-F]{6}$/i.test(hex)) {
                const r = parseInt(hex.substr(1, 2), 16);
                const g = parseInt(hex.substr(3, 2), 16);
                const b = parseInt(hex.substr(5, 2), 16);
                
                document.getElementById('color-r').value = r;
                document.getElementById('color-g').value = g;
                document.getElementById('color-b').value = b;
                updateColorPreview();
            }
        });
        
        document.getElementById('random-color').addEventListener('click', function() {
            const r = Math.floor(Math.random() * 256);
            const g = Math.floor(Math.random() * 256);
            const b = Math.floor(Math.random() * 256);
            
            document.getElementById('color-r').value = r;
            document.getElementById('color-g').value = g;
            document.getElementById('color-b').value = b;
            updateColorPreview();
        });
        
        document.getElementById('copy-hex').addEventListener('click', function() {
            const hex = document.getElementById('color-hex').value;
            navigator.clipboard.writeText(hex);
            this.textContent = 'Copied!';
            setTimeout(() => this.innerHTML = '<i class="fas fa-copy"></i> Copy Hex', 2000);
        });
        
        document.getElementById('copy-rgb').addEventListener('click', function() {
            const rgb = document.getElementById('color-rgb').value;
            navigator.clipboard.writeText(rgb);
            this.textContent = 'Copied!';
            setTimeout(() => this.innerHTML = '<i class="fas fa-copy"></i> Copy RGB', 2000);
        });
        
        // Initial color preview
        updateColorPreview();

        // Age Calculator
        document.getElementById('calculate-age').addEventListener('click', function() {
            const birthDate = new Date(document.getElementById('birth-date').value);
            let ageAtDate = new Date(document.getElementById('age-at-date').value);
            
            if (isNaN(birthDate.getTime())) {
                document.getElementById('age-result').textContent = 'Please enter a valid birth date';
                return;
            }
            
            if (isNaN(ageAtDate.getTime())) {
                ageAtDate = new Date(); // Use current date if not specified
            }
            
            let age = ageAtDate.getFullYear() - birthDate.getFullYear();
            const monthDiff = ageAtDate.getMonth() - birthDate.getMonth();
            
            if (monthDiff < 0 || (monthDiff === 0 && ageAtDate.getDate() < birthDate.getDate())) {
                age--;
            }
            
            // Calculate months and days
            let months = ageAtDate.getMonth() - birthDate.getMonth();
            let days = ageAtDate.getDate() - birthDate.getDate();
            
            if (days < 0) {
                months--;
                // Get days in previous month
                const prevMonth = new Date(ageAtDate.getFullYear(), ageAtDate.getMonth(), 0);
                days += prevMonth.getDate();
            }
            
            if (months < 0) {
                months += 12;
            }
            
            document.getElementById('age-result').textContent = 
                `Age: ${age} years, ${months} months, ${days} days`;
        });

        // Set default dates
        document.getElementById('birth-date').valueAsDate = new Date(new Date().setFullYear(new Date().getFullYear() - 25));
        document.getElementById('age-at-date').valueAsDate = new Date();

        // BMI Calculator
        document.getElementById('calculate-bmi').addEventListener('click', function() {
            let height = parseFloat(document.getElementById('bmi-height-cm').value);
            let weight = parseFloat(document.getElementById('bmi-weight-kg').value);
            const heightUnit = document.getElementById('bmi-height-unit').value;
            const weightUnit = document.getElementById('bmi-weight-unit').value;
            
            // Convert to cm and kg if needed
            if (heightUnit === 'in') height *= 2.54;
            if (weightUnit === 'lb') weight *= 0.453592;
            
            if (height <= 0 || weight <= 0) {
                document.getElementById('bmi-result').textContent = 'Please enter valid values';
                return;
            }
            
            const heightMeters = height / 100;
            const bmi = weight / (heightMeters * heightMeters);
            let category;
            
            if (bmi < 18.5) category = 'Underweight';
            else if (bmi < 25) category = 'Normal weight';
            else if (bmi < 30) category = 'Overweight';
            else category = 'Obese';
            
            document.getElementById('bmi-result').textContent = 
                `BMI: ${bmi.toFixed(1)} (${category})`;
        });

        // Currency Converter
        async function fetchExchangeRates() {
            try {
                const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
                const data = await response.json();
                return data.rates;
            } catch (e) {
                console.error("Failed to fetch exchange rates, using fallback", e);
                // Fallback rates
                return {
                    USD: 1,
                    EUR: 0.85,
                    GBP: 0.73,
                    JPY: 110.25,
                    CAD: 1.25,
                    AUD: 1.35,
                    CNY: 6.45,
                    INR: 75.50,
                    BRL: 5.25,
                    ZAR: 15.00
                };
            }
        }
        
        let exchangeRates = {};
        
        document.getElementById('convert-currency').addEventListener('click', async function() {
            const amount = parseFloat(document.getElementById('currency-amount').value);
            const from = document.getElementById('currency-from').value;
            const to = document.getElementById('currency-to').value;
            
            if (amount <= 0) {
                document.getElementById('currency-result').textContent = 'Please enter a valid amount';
                return;
            }
            
            if (Object.keys(exchangeRates).length === 0) {
                exchangeRates = await fetchExchangeRates();
                document.getElementById('currency-date').textContent = new Date().toLocaleDateString();
            }
            
            // Convert to USD first, then to target currency
            const usdAmount = amount / exchangeRates[from];
            const result = usdAmount * exchangeRates[to];
            
            document.getElementById('currency-result').textContent = 
                `${amount.toFixed(2)} ${from} = ${result.toFixed(2)} ${to}`;
        });

        // Word Counter
        document.getElementById('count-words').addEventListener('click', function() {
            const text = document.getElementById('word-input').value.trim();
            
            if (!text) {
                document.getElementById('word-result').textContent = 'Please enter some text';
                return;
            }
            
            const wordCount = text.split(/\s+/).filter(word => word.length > 0).length;
            const charCount = text.length;
            const charCountNoSpaces = text.replace(/\s+/g, '').length;
            const lineCount = text.split('\n').filter(line => line.trim().length > 0).length;
            const paragraphCount = text.split(/\n\s*\n/).filter(p => p.trim().length > 0).length;
            
            document.getElementById('word-result').innerHTML = `
                Words: ${wordCount}<br>
                Characters (with spaces): ${charCount}<br>
                Characters (without spaces): ${charCountNoSpaces}<br>
                Lines: ${lineCount}<br>
                Paragraphs: ${paragraphCount}
            `;
        });

        // QR Code Generator
        document.getElementById('generate-qr').addEventListener('click', function() {
            const text = document.getElementById('qr-text').value.trim();
            const size = parseInt(document.getElementById('qr-size').value);
            
            if (!text) {
                alert('Please enter text or URL');
                return;
            }
            
            const canvas = document.getElementById('qr-code');
            QRCode.toCanvas(canvas, text, { width: size }, function(error) {
                if (error) console.error(error);
            });
        });
        
        document.getElementById('download-qr').addEventListener('click', function() {
            const canvas = document.getElementById('qr-code');
            const link = document.createElement('a');
            link.download = 'qr-code.png';
            link.href = canvas.toDataURL('image/png');
            link.click();
        });

        // Base64 Converter
        document.getElementById('convert-base64').addEventListener('click', function() {
            const input = document.getElementById('base64-input').value;
            const action = document.getElementById('base64-action').value;
            
            if (!input) {
                document.getElementById('base64-result').textContent = 'Please enter some text';
                return;
            }
            
            try {
                let result;
                if (action === 'encode') {
                    result = btoa(unescape(encodeURIComponent(input)));
                } else {
                    result = decodeURIComponent(escape(atob(input)));
                }
                document.getElementById('base64-result').textContent = result;
            } catch (e) {
                document.getElementById('base64-result').textContent = 'Error: Invalid input for selected operation';
            }
        });
        
        document.getElementById('copy-base64').addEventListener('click', function() {
            const result = document.getElementById('base64-result').textContent;
            if (result) {
                navigator.clipboard.writeText(result);
                this.textContent = 'Copied!';
                setTimeout(() => this.innerHTML = '<i class="fas fa-copy"></i> Copy to Clipboard', 2000);
            }
        });

        // Time Zone Converter
        document.getElementById('convert-timezone').addEventListener('click', function() {
            const dateStr = document.getElementById('tz-date').value;
            const timeStr = document.getElementById('tz-time').value;
            const fromZone = document.getElementById('tz-from').value;
            const toZone = document.getElementById('tz-to').value;
            
            if (!dateStr || !timeStr) {
                document.getElementById('tz-result').textContent = 'Please enter date and time';
                return;
            }
            
            // Create a date object in the from timezone
            const dateTimeStr = `${dateStr}T${timeStr}`;
            const date = new Date(dateTimeStr);
            
            if (isNaN(date.getTime())) {
                document.getElementById('tz-result').textContent = 'Invalid date/time';
                return;
            }
            
            // Get timezone offsets (simplified for demo)
            const offsets = {
                'UTC': 0,
                'GMT': 0,
                'EST': -5 * 60,
                'CST': -6 * 60,
                'PST': -8 * 60,
                'CET': 1 * 60,
                'IST': 5.5 * 60,
                'JST': 9 * 60,
                'AEST': 10 * 60
            };
            
            const fromOffset = offsets[fromZone] || 0;
            const toOffset = offsets[toZone] || 0;
            
            // Convert to target timezone
            const offsetDiff = toOffset - fromOffset;
            date.setMinutes(date.getMinutes() + offsetDiff);
            
            // Format the result
            const options = {
                weekday: 'long',
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit',
                timeZoneName: 'short'
            };
            
            const result = date.toLocaleString('en-US', options);
            document.getElementById('tz-result').textContent = `${fromZone} to ${toZone}: ${result}`;
        });

        // Set default timezone values
        document.getElementById('tz-date').valueAsDate = new Date();
        document.getElementById('tz-time').value = new Date().toTimeString().substr(0, 5);
    </script>
</body>
</html>
